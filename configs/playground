[global]
cluster_template = playground
update_check = true
sanity_check = true

[aws]
aws_region_name = us-east-2

[aliases]
ssh = ssh {CFN_USER}@{MASTER_IP} {ARGS}

[cluster playground]
key_name = playground-cluster
scheduler = slurm
master_instance_type = c5.large
base_os = ubuntu1804
vpc_settings = default
queue_settings = compute-spot, compute-on-demand
scaling_settings = custom
ebs_settings = code, data



[vpc default]
vpc_id = vpc-02f09b62b0a1d6b2d
master_subnet_id = subnet-0a2506c87b78c7d27
compute_subnet_id = subnet-00e86793982b750ec
use_public_ips = false

[queue compute-spot]
enable_efa = false
enable_efa_gdr = false
compute_type = spot
compute_resource_settings = cpu-spot

[queue compute-on-demand]
enable_efa = false
enable_efa_gdr = false
compute_type = ondemand
compute_resource_settings = cpu-on-demand, gpu-t4x1-on-demand

[compute_resource cpu-spot]
initial_count = 0
instance_type = t3.micro
max_count = 4

[compute_resource gpu-t4x1-spot]
initial_count = 0
instance_type = g4dn.xlarge
max_count = 4

[compute_resource gpu-t4x1-on-demand]
initial_count = 0
instance_type = g4dn.xlarge
max_count = 4

[compute_resource gpu-m60x2-spot]
initial_count = 0
instance_type = g3.8xlarge
max_count = 4

[compute_resource cpu-on-demand]
initial_count = 0
instance_type = t3.micro
max_count = 4

[scaling custom]
scaledown_idletime = 5

[ebs code]
shared_dir = code
volume_type = st1
volume_size = 500

[ebs data]
shared_dir = data
volume_type = st1
volume_size = 500
